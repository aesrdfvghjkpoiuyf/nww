{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\neeee\\\\Group Call\\\\sample-01\\\\src\\\\components\\\\organisms\\\\GroupCall\\\\MediaContent.tsx\",\n  _s = $RefreshSig$();\nimport styled, { css } from 'styled-components';\nimport { normal } from 'styles/fonts';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ParticipantsRow = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-height: ${props => Math.ceil(100 / props.rows) + '%'};\n  margin-bottom: 4px;\n  &:last-child {\n    margin-bottom: 0px;\n  }\n`;\nconst ParticipantView = styled.div`\n  position: relative;\n  width: ${props => Math.min((props.height - 184) / props.rows * (16 / 9), (props.width - 32) / 2) + 'px'};\n  height: 100%;\n  background-color: var(--navy-800);\n  &:first-child {\n    margin-right: 4px;\n  }\n  &:before {\n    display: block;\n    content: \"\";\n    padding-top: 56.25%;  /*What you want the height to be in relation to the width*/\n  }\n  video {\n    position:  absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n  }\n`;\n_c = ParticipantView;\nconst ParticipantInfo = styled.div`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 24px;\n  padding: 2px 8px;\n  background-color: rgba(33, 34, 66, 0.7);\n  ${normal};\n  color: var(--white);\n`;\n_c2 = ParticipantInfo;\nexport const ParticipantOverlay = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  background-color: var(--navy-800);\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  ${props => props.fillBlack ? css`\n    background-color: black;\n\n` : ''};\n`;\n_c3 = ParticipantOverlay;\nexport const Avatar = styled.div`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: contain;\n  background-image: url(${props => props.url ? props.url : '/icons/icon-avatar.svg'});\n`;\n_c4 = Avatar;\nconst ParticipantMutedIcon = styled.div`\n  width: 15px;\n  height: 15px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-image: url(/icons/icon-audio-off.svg);\n  margin-right: 4px;\n`;\n_c5 = ParticipantMutedIcon;\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1;\n  max-height: calc(100vh - 64px - 88px);\n  padding: 16px;\n  > ${ParticipantView} {\n    width: 100%;\n  }\n`;\n_c6 = Wrapper;\nconst MediaContent = ({\n  room\n}) => {\n  _s();\n  const {\n    participants,\n    localParticipant,\n    remoteParticipants\n  } = room;\n  const getWindowDimensions = () => {\n    const {\n      innerWidth: width,\n      innerHeight: height\n    } = window;\n    return {\n      width,\n      height\n    };\n  };\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    window.addEventListener('resize', handleResize);\n  }, []);\n  console.log(JSON.stringify(participants.map(x => ({\n    id: x.participantId,\n    audio: x.isAudioEnabled\n  })), null, 4));\n  if (!remoteParticipants.length) {\n    const p = localParticipant;\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(ParticipantView, {\n        rows: 1,\n        width: windowDimensions.width,\n        height: windowDimensions.height,\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          autoPlay: true,\n          playsInline: true,\n          muted: p.participantId === localParticipant.participantId,\n          ref: el => {\n            if (!el) return;\n            p.setMediaView(el);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), p.isVideoEnabled || /*#__PURE__*/_jsxDEV(ParticipantOverlay, {\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            url: p.user.profileUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ParticipantInfo, {\n          children: [p.isAudioEnabled || /*#__PURE__*/_jsxDEV(ParticipantMutedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 34\n          }, this), \"User ID: \", p.user.userId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, p.participantId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  const rows = Math.ceil(participants.length / 2);\n};\n_s(MediaContent, \"XalQq70mIWrnM+6Jr3XornfayDc=\");\n_c7 = MediaContent;\nexport default MediaContent;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"ParticipantView\");\n$RefreshReg$(_c2, \"ParticipantInfo\");\n$RefreshReg$(_c3, \"ParticipantOverlay\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"ParticipantMutedIcon\");\n$RefreshReg$(_c6, \"Wrapper\");\n$RefreshReg$(_c7, \"MediaContent\");","map":{"version":3,"names":["styled","css","normal","useEffect","useState","jsxDEV","_jsxDEV","ParticipantsRow","div","props","Math","ceil","rows","ParticipantView","min","height","width","_c","ParticipantInfo","_c2","ParticipantOverlay","fillBlack","_c3","Avatar","url","_c4","ParticipantMutedIcon","_c5","Wrapper","_c6","MediaContent","room","_s","participants","localParticipant","remoteParticipants","getWindowDimensions","innerWidth","innerHeight","window","windowDimensions","setWindowDimensions","handleResize","addEventListener","console","log","JSON","stringify","map","x","id","participantId","audio","isAudioEnabled","length","p","children","autoPlay","playsInline","muted","ref","el","setMediaView","fileName","_jsxFileName","lineNumber","columnNumber","isVideoEnabled","user","profileUrl","userId","_c7","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/neeee/Group Call/sample-01/src/components/organisms/GroupCall/MediaContent.tsx"],"sourcesContent":["import type { StatefulRoom } from 'lib/sendbird-calls/SbCallsContext';\r\nimport styled, { css } from 'styled-components';\r\nimport { normal } from 'styles/fonts';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst ParticipantsRow = styled.div<{ rows: number }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-height: ${props => Math.ceil(100 / props.rows) + '%'};\r\n  margin-bottom: 4px;\r\n  &:last-child {\r\n    margin-bottom: 0px;\r\n  }\r\n`;\r\n\r\nconst ParticipantView = styled.div<{ rows: number, width: number, height: number, isLocal?: boolean }>`\r\n  position: relative;\r\n  width: ${props => Math.min((props.height - 184) / props.rows * (16 / 9), (props.width - 32) / 2) + 'px'};\r\n  height: 100%;\r\n  background-color: var(--navy-800);\r\n  &:first-child {\r\n    margin-right: 4px;\r\n  }\r\n  &:before {\r\n    display: block;\r\n    content: \"\";\r\n    padding-top: 56.25%;  /*What you want the height to be in relation to the width*/\r\n  }\r\n  video {\r\n    position:  absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst ParticipantInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  height: 24px;\r\n  padding: 2px 8px;\r\n  background-color: rgba(33, 34, 66, 0.7);\r\n  ${normal};\r\n  color: var(--white);\r\n`;\r\n\r\nexport const ParticipantOverlay = styled.div<{ fillBlack?: boolean; }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  background-color: var(--navy-800);\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  ${props => props.fillBlack ? css`\r\n    background-color: black;\r\n\r\n` : ''};\r\n`;\r\n\r\nexport const Avatar = styled.div<{ url?: string; }>`\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-size: contain;\r\n  background-image: url(${props => props.url ? props.url : '/icons/icon-avatar.svg'});\r\n`;\r\n\r\nconst ParticipantMutedIcon = styled.div`\r\n  width: 15px;\r\n  height: 15px;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  background-image: url(/icons/icon-audio-off.svg);\r\n  margin-right: 4px;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  flex: 1;\r\n  max-height: calc(100vh - 64px - 88px);\r\n  padding: 16px;\r\n  > ${ParticipantView} {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\n\r\ntype Props = { room: StatefulRoom };\r\nconst MediaContent = ({ room }: Props) => {\r\n  const { participants, localParticipant, remoteParticipants } = room;\r\n\r\n  const getWindowDimensions = () => {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n      width,\r\n      height\r\n    };\r\n  }\r\n\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  console.log(\r\n    JSON.stringify(\r\n    participants.map(x => ({ id: x.participantId, audio: x.isAudioEnabled }))\r\n      ,null,4)\r\n  )\r\n\r\n  if (!remoteParticipants.length) {\r\n    const p = localParticipant;\r\n    return (\r\n      <Wrapper>\r\n        <ParticipantView key={p.participantId} rows={1} width={windowDimensions.width} height={windowDimensions.height}>\r\n          <video autoPlay playsInline muted={p.participantId === localParticipant.participantId} ref={el => {\r\n            if (!el) return;\r\n            p.setMediaView(el);\r\n          }} />\r\n          {p.isVideoEnabled ||\r\n          <ParticipantOverlay>\r\n            <Avatar url={p.user.profileUrl} />\r\n          </ParticipantOverlay>\r\n          }\r\n          <ParticipantInfo>\r\n            {p.isAudioEnabled || <ParticipantMutedIcon />}User ID: {p.user.userId}\r\n          </ParticipantInfo>\r\n        </ParticipantView>\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\n  const rows = Math.ceil(participants.length / 2);\r\n  \r\n  \r\n}\r\nexport default MediaContent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}