{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\neeee\\\\quickstart-calls-reactjs\\\\sample-01\\\\src\\\\components\\\\views\\\\CallView\\\\CallView.tsx\",\n  _s = $RefreshSig$();\nimport { useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport { AudioCallAcceptButton, VideoCallAcceptButton, MuteButton, UnmuteButton, StartVideoButton, StopVideoButton, EndButton } from 'components/atoms/CallButtons';\nimport { CallingText, RingingText } from 'components/atoms/CallTexts';\nimport Screen from 'components/templates/Screen';\nimport { useSbCalls } from 'lib/sendbird-calls';\nimport * as fonts from 'styles/fonts';\nimport * as mixins from 'styles/mixins';\nimport { isSafari, media } from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled(Screen)`\n ${mixins.flexCenter};\n flex-direction: column;\n position: absolute;\n top: 0;\n left: 0;\n z-index: 1; // TODO: Temporary z-index because of menu dropdown coming upfront\n color: white;\n background-color: var(--navy-900);\n`;\n_c = Wrapper;\nconst Foreground = styled.div`\n  ${mixins.flexCenter};\n  position: relative;\n  flex-direction: column;\n`;\n_c2 = Foreground;\nconst PeerProfile = styled.img`\n  display: block;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  object-fit: contain;\n  margin-bottom: 24px;\n`;\n_c3 = PeerProfile;\nconst PeerName = styled.div`\n  ${fonts.big};\n  ${fonts.demi};\n  min-height: 32px;\n  height: auto;\n  text-align: center;\n  word-break: break-all;\n  margin-bottom: 4px;\n`;\n_c4 = PeerName;\nconst ConnectionInfo = styled.div`\n  ${fonts.normal};\n  color: var(--white);\n  height: 20px;\n  margin-bottom: 24px;\n`;\n_c5 = ConnectionInfo;\nconst PeerState = styled.div`\n  ${mixins.flexColumn};\n  align-items: center;\n  margin-bottom: 97px;\n`;\n_c6 = PeerState;\nconst PeerMuteIcon = styled.div`\n  width: 32px;\n  height: 32px;\n  margin-bottom: 8px;\n  background-image: url(/icons/ic-callkit-audio-off-white.svg);\n  background-repeat: no-repeat;\n  background-position: center;\n`;\n_c7 = PeerMuteIcon;\nconst PeerMuteLabel = styled.div`\n  ${fonts.small};\n  display: block;\n  color: var(--white);\n`;\n_c8 = PeerMuteLabel;\nconst Background = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n  border-radius: 8px;\n  ${media.main} {\n    border-radius: 0;\n  }\n`;\n_c9 = Background;\nconst getVideoStyleFromSize = size => {\n  switch (size) {\n    case 'hidden':\n      return css`\n          opacity: 0;\n          transition: all 0.5s;\n          display: none;\n        `;\n    case 'small':\n      return css`\n          position: absolute;\n          top: 16px;\n          left: 16px;\n          width: 200px;\n          height: 150px;\n          border-radius: 8px;\n          background-color: var(--navy-300);\n        `;\n    case 'full':\n      return css`\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          transition: all 1s;\n        `;\n    default:\n      return '';\n  }\n};\nconst VideoViewDiv = styled.div`\n  position: absolute;\n  overflow: hidden;\n  ${props => getVideoStyleFromSize(props.size)}\n`;\n_c10 = VideoViewDiv;\nconst VideoView = styled.video`\n  left: 50%;\n  height: 100%;\n  position: absolute;\n  transform: translate(-50%);\n`;\n_c11 = VideoView;\nconst Controls = styled.div`\n  ${mixins.flexCenter};\n  position: absolute;\n  bottom: 40px;\n  ${media.main} {\n    position: relative;\n  }\n`;\n_c12 = Controls;\nconst CloseButton = styled.button`\n  ${fonts.normal};\n  border: none;\n  width: 248px;\n  height: 48px;\n  color: var(--white);\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 4px;\n  margin-bottom: 28px;\n  &:hover {\n    background: rgba(255, 255, 255, 0.28);\n  }\n`;\n_c13 = CloseButton;\nconst CallView = ({\n  call\n}) => {\n  _s();\n  const {\n    clearCalls\n  } = useSbCalls();\n  const {\n    callState,\n    caller,\n    localUser,\n    remoteUser,\n    isLocalAudioEnabled,\n    isLocalVideoEnabled,\n    isRemoteAudioEnabled,\n    isRemoteVideoEnabled,\n    localMediaView,\n    remoteMediaView\n  } = call;\n  const localMediaViewRef = useCallback(node => {\n    call.setLocalMediaView(node);\n  }, []);\n  const remoteMediaViewRef = useCallback(node => {\n    call.setRemoteMediaView(node);\n  }, []);\n  const accept = useCallback(() => {\n    call.accept({\n      callOption: {\n        localMediaView,\n        remoteMediaView,\n        audioEnabled: true,\n        videoEnabled: true\n      }\n    });\n  }, [localMediaView, remoteMediaView]);\n  let localMediaViewSize;\n  let remoteMediaViewSize;\n  switch (callState) {\n    case 'dialing':\n    case 'ringing':\n      localMediaViewSize = 'full';\n      remoteMediaViewSize = 'hidden';\n      break;\n    case 'connected':\n    case 'reconnecting':\n      localMediaViewSize = 'small';\n      remoteMediaViewSize = 'full';\n      break;\n    case 'ended':\n    default:\n      localMediaViewSize = 'hidden';\n      remoteMediaViewSize = 'hidden';\n  }\n  const is = useCallback((...states) => states.some(state => state === callState), [callState]);\n  const isNot = useCallback((...states) => !states.some(state => state === callState), [callState]);\n  const connectedStates = ['established', 'connected', 'reconnecting', 'reconnected'];\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Background, {\n      children: call.isVideoCall ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(VideoViewDiv, {\n          size: remoteMediaViewSize,\n          children: /*#__PURE__*/_jsxDEV(VideoView, {\n            ref: remoteMediaViewRef,\n            playsInline: true,\n            autoPlay: true,\n            muted: false,\n            controls: isSafari()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(VideoViewDiv, {\n          size: localMediaViewSize,\n          children: /*#__PURE__*/_jsxDEV(VideoView, {\n            ref: localMediaViewRef,\n            playsInline: true,\n            autoPlay: true,\n            muted: true,\n            style: {\n              backgroundColor: 'var(--white)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n          ref: localMediaViewRef,\n          playsInline: true,\n          autoPlay: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n          ref: remoteMediaViewRef,\n          playsInline: true,\n          autoPlay: true,\n          muted: false,\n          controls: isSafari()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Foreground, {\n      children: [remoteUser.profileUrl && /*#__PURE__*/_jsxDEV(PeerProfile, {\n        src: remoteUser.profileUrl || '',\n        alt: \"Sendbird voice & video call opponent profile photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(PeerName, {\n        children: remoteUser.nickname || remoteUser.userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), isNot(...connectedStates) && /*#__PURE__*/_jsxDEV(ConnectionInfo, {\n        children: [is('dialing') && /*#__PURE__*/_jsxDEV(CallingText, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 33\n        }, this), is('ringing') && /*#__PURE__*/_jsxDEV(RingingText, {\n          isVideoCall: call.isVideoCall\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 33\n        }, this), is('ended') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: call.endResult\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(PeerState, {\n        children: is(...connectedStates) && !isRemoteAudioEnabled && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(PeerMuteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(PeerMuteLabel, {\n            children: [remoteUser.userId, \" audio muted this call\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {\n        children: [isNot('ended') && [isLocalAudioEnabled ? /*#__PURE__*/_jsxDEV(MuteButton, {\n          onClick: () => call.muteMicrophone()\n        }, \"mute-audio\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(UnmuteButton, {\n          onClick: () => call.unmuteMicrophone()\n        }, \"unmute-audio\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 19\n        }, this), isLocalVideoEnabled ? /*#__PURE__*/_jsxDEV(StopVideoButton, {\n          onClick: () => call.stopVideo()\n        }, \"stop-video\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(StartVideoButton, {\n          onClick: () => call.startVideo()\n        }, \"start-video\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }, this)], is('ringing') && (call.isVideoCall ? /*#__PURE__*/_jsxDEV(VideoCallAcceptButton, {\n          onClick: accept\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(AudioCallAcceptButton, {\n          onClick: accept\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 17\n        }, this)), isNot('ended') && /*#__PURE__*/_jsxDEV(EndButton, {\n          onClick: () => call.end()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 16\n        }, this), is('ended') && /*#__PURE__*/_jsxDEV(CloseButton, {\n          onClick: () => clearCalls(),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n};\n_s(CallView, \"iK/jTRfvM3zY/cPAkfKOep8E6eo=\", false, function () {\n  return [useSbCalls];\n});\n_c14 = CallView;\nexport default CallView;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Foreground\");\n$RefreshReg$(_c3, \"PeerProfile\");\n$RefreshReg$(_c4, \"PeerName\");\n$RefreshReg$(_c5, \"ConnectionInfo\");\n$RefreshReg$(_c6, \"PeerState\");\n$RefreshReg$(_c7, \"PeerMuteIcon\");\n$RefreshReg$(_c8, \"PeerMuteLabel\");\n$RefreshReg$(_c9, \"Background\");\n$RefreshReg$(_c10, \"VideoViewDiv\");\n$RefreshReg$(_c11, \"VideoView\");\n$RefreshReg$(_c12, \"Controls\");\n$RefreshReg$(_c13, \"CloseButton\");\n$RefreshReg$(_c14, \"CallView\");","map":{"version":3,"names":["useCallback","styled","css","AudioCallAcceptButton","VideoCallAcceptButton","MuteButton","UnmuteButton","StartVideoButton","StopVideoButton","EndButton","CallingText","RingingText","Screen","useSbCalls","fonts","mixins","isSafari","media","jsxDEV","_jsxDEV","Fragment","_Fragment","Wrapper","flexCenter","_c","Foreground","div","_c2","PeerProfile","img","_c3","PeerName","big","demi","_c4","ConnectionInfo","normal","_c5","PeerState","flexColumn","_c6","PeerMuteIcon","_c7","PeerMuteLabel","small","_c8","Background","main","_c9","getVideoStyleFromSize","size","VideoViewDiv","props","_c10","VideoView","video","_c11","Controls","_c12","CloseButton","button","_c13","CallView","call","_s","clearCalls","callState","caller","localUser","remoteUser","isLocalAudioEnabled","isLocalVideoEnabled","isRemoteAudioEnabled","isRemoteVideoEnabled","localMediaView","remoteMediaView","localMediaViewRef","node","setLocalMediaView","remoteMediaViewRef","setRemoteMediaView","accept","callOption","audioEnabled","videoEnabled","localMediaViewSize","remoteMediaViewSize","is","states","some","state","isNot","connectedStates","children","isVideoCall","ref","playsInline","autoPlay","muted","controls","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","profileUrl","src","alt","nickname","userId","endResult","onClick","muteMicrophone","unmuteMicrophone","stopVideo","startVideo","end","_c14","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/neeee/quickstart-calls-reactjs/sample-01/src/components/views/CallView/CallView.tsx"],"sourcesContent":["import { useCallback, useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  AudioCallAcceptButton,\r\n  VideoCallAcceptButton,\r\n  MuteButton, UnmuteButton, StartVideoButton, StopVideoButton, EndButton,\r\n} from 'components/atoms/CallButtons';\r\nimport { CallingText, RingingText } from 'components/atoms/CallTexts';\r\nimport Screen from 'components/templates/Screen';\r\nimport { useSbCalls } from 'lib/sendbird-calls';\r\nimport type { StatefulDirectCall } from 'lib/sendbird-calls';\r\nimport * as fonts from 'styles/fonts';\r\nimport * as mixins from 'styles/mixins';\r\nimport { isSafari, media } from 'utils';\r\n\r\nconst Wrapper = styled(Screen)`\r\n ${mixins.flexCenter};\r\n flex-direction: column;\r\n position: absolute;\r\n top: 0;\r\n left: 0;\r\n z-index: 1; // TODO: Temporary z-index because of menu dropdown coming upfront\r\n color: white;\r\n background-color: var(--navy-900);\r\n`;\r\n\r\nconst Foreground = styled.div`\r\n  ${mixins.flexCenter};\r\n  position: relative;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst PeerProfile = styled.img`\r\n  display: block;\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  object-fit: contain;\r\n  margin-bottom: 24px;\r\n`;\r\nconst PeerName = styled.div`\r\n  ${fonts.big};\r\n  ${fonts.demi};\r\n  min-height: 32px;\r\n  height: auto;\r\n  text-align: center;\r\n  word-break: break-all;\r\n  margin-bottom: 4px;\r\n`;\r\n\r\nconst ConnectionInfo = styled.div`\r\n  ${fonts.normal};\r\n  color: var(--white);\r\n  height: 20px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst PeerState = styled.div`\r\n  ${mixins.flexColumn};\r\n  align-items: center;\r\n  margin-bottom: 97px;\r\n`;\r\n\r\nconst PeerMuteIcon = styled.div`\r\n  width: 32px;\r\n  height: 32px;\r\n  margin-bottom: 8px;\r\n  background-image: url(/icons/ic-callkit-audio-off-white.svg);\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n`;\r\n\r\nconst PeerMuteLabel = styled.div`\r\n  ${fonts.small};\r\n  display: block;\r\n  color: var(--white);\r\n`;\r\n\r\nconst Background = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  border-radius: 8px;\r\n  ${media.main} {\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\ntype MediaViewSize = 'hidden' | 'small' | 'full';\r\nconst getVideoStyleFromSize = (size: MediaViewSize) => {\r\n  switch (size) {\r\n    case 'hidden':\r\n      return css`\r\n          opacity: 0;\r\n          transition: all 0.5s;\r\n          display: none;\r\n        `;\r\n    case 'small':\r\n      return css`\r\n          position: absolute;\r\n          top: 16px;\r\n          left: 16px;\r\n          width: 200px;\r\n          height: 150px;\r\n          border-radius: 8px;\r\n          background-color: var(--navy-300);\r\n        `;\r\n    case 'full':\r\n      return css`\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          transition: all 1s;\r\n        `;\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nconst VideoViewDiv = styled.div<{ size: MediaViewSize }>`\r\n  position: absolute;\r\n  overflow: hidden;\r\n  ${props => getVideoStyleFromSize(props.size)}\r\n`;\r\n\r\nconst VideoView = styled.video`\r\n  left: 50%;\r\n  height: 100%;\r\n  position: absolute;\r\n  transform: translate(-50%);\r\n`;\r\n\r\nconst Controls = styled.div`\r\n  ${mixins.flexCenter};\r\n  position: absolute;\r\n  bottom: 40px;\r\n  ${media.main} {\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  ${fonts.normal};\r\n  border: none;\r\n  width: 248px;\r\n  height: 48px;\r\n  color: var(--white);\r\n  background: rgba(255, 255, 255, 0.08);\r\n  border-radius: 4px;\r\n  margin-bottom: 28px;\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.28);\r\n  }\r\n`;\r\n\r\ninterface CallViewProps { call: StatefulDirectCall; }\r\nconst CallView: React.FC<CallViewProps> = ({ call }) => {\r\n  const { clearCalls } = useSbCalls();\r\n  const {\r\n    callState,\r\n    caller,\r\n    localUser,\r\n    remoteUser,\r\n    isLocalAudioEnabled,\r\n    isLocalVideoEnabled,\r\n    isRemoteAudioEnabled,\r\n    isRemoteVideoEnabled,\r\n    localMediaView,\r\n    remoteMediaView,\r\n  } = call;\r\n\r\n  const localMediaViewRef = useCallback(node => {\r\n    call.setLocalMediaView(node);\r\n  }, []);\r\n\r\n  const remoteMediaViewRef = useCallback(node => {\r\n    call.setRemoteMediaView(node);\r\n  }, []);\r\n\r\n  const accept = useCallback(() => {\r\n    call.accept({\r\n      callOption: {\r\n        localMediaView,\r\n        remoteMediaView,\r\n        audioEnabled: true,\r\n        videoEnabled: true,\r\n      },\r\n    });\r\n  }, [localMediaView, remoteMediaView]);\r\n\r\n  let localMediaViewSize: MediaViewSize;\r\n  let remoteMediaViewSize: MediaViewSize;\r\n\r\n  switch (callState) {\r\n    case 'dialing':\r\n    case 'ringing':\r\n      localMediaViewSize = 'full';\r\n      remoteMediaViewSize = 'hidden';\r\n      break;\r\n    case 'connected':\r\n    case 'reconnecting':\r\n      localMediaViewSize = 'small';\r\n      remoteMediaViewSize = 'full';\r\n      break;\r\n    case 'ended':\r\n    default:\r\n      localMediaViewSize = 'hidden';\r\n      remoteMediaViewSize = 'hidden';\r\n  }\r\n\r\n  const is = useCallback((...states) => states.some(state => state === callState), [callState]);\r\n  const isNot = useCallback((...states) => !states.some(state => state === callState), [callState]);\r\n  const connectedStates = ['established', 'connected', 'reconnecting', 'reconnected'];\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Background>\r\n        {\r\n          call.isVideoCall\r\n            ? (\r\n              <>\r\n                <VideoViewDiv size={remoteMediaViewSize}>\r\n                  <VideoView\r\n                    ref={remoteMediaViewRef}\r\n                    playsInline\r\n                    autoPlay\r\n                    muted={false}\r\n                    controls={isSafari()}\r\n                  />\r\n                </VideoViewDiv>\r\n                <VideoViewDiv size={localMediaViewSize}>\r\n                  <VideoView\r\n                    ref={localMediaViewRef}\r\n                    playsInline\r\n                    autoPlay\r\n                    muted\r\n                    style={{ backgroundColor: 'var(--white)' }}\r\n                  />\r\n                </VideoViewDiv>\r\n              </>\r\n            )\r\n            : (\r\n              <>\r\n                <audio\r\n                  ref={localMediaViewRef}\r\n                  playsInline\r\n                  autoPlay\r\n                  muted\r\n                />\r\n                <audio\r\n                  ref={remoteMediaViewRef}\r\n                  playsInline\r\n                  autoPlay\r\n                  muted={false}\r\n                  controls={isSafari()}\r\n                />\r\n              </>\r\n            )\r\n        }\r\n      </Background>\r\n      <Foreground>\r\n        {\r\n          remoteUser.profileUrl && <PeerProfile src={remoteUser.profileUrl || ''} alt=\"Sendbird voice & video call opponent profile photo\" />\r\n        }\r\n        <PeerName>{remoteUser.nickname || remoteUser.userId}</PeerName>\r\n        {\r\n          isNot(...connectedStates)\r\n          && (\r\n            <ConnectionInfo>\r\n              {is('dialing') && <CallingText />}\r\n              {is('ringing') && <RingingText isVideoCall={call.isVideoCall} />}\r\n              {is('ended') && <>{call.endResult}</>}\r\n            </ConnectionInfo>\r\n          )\r\n        }\r\n        <PeerState>\r\n          {\r\n            is(...connectedStates) && !isRemoteAudioEnabled && (\r\n              <>\r\n                <PeerMuteIcon />\r\n                <PeerMuteLabel>\r\n                  {remoteUser.userId} audio muted this call\r\n                </PeerMuteLabel>\r\n              </>\r\n            )\r\n          }\r\n        </PeerState>\r\n\r\n        <Controls>\r\n          {\r\n            isNot('ended') && ([\r\n              isLocalAudioEnabled\r\n                ? <MuteButton key=\"mute-audio\" onClick={() => call.muteMicrophone()} />\r\n                : <UnmuteButton key=\"unmute-audio\" onClick={() => call.unmuteMicrophone()} />,\r\n              isLocalVideoEnabled\r\n                ? <StopVideoButton key=\"stop-video\" onClick={() => call.stopVideo()} />\r\n                : <StartVideoButton key=\"start-video\" onClick={() => call.startVideo()} />,\r\n            ])\r\n          }\r\n          {\r\n            is('ringing')\r\n            && (call.isVideoCall\r\n              ? <VideoCallAcceptButton onClick={accept} />\r\n              : <AudioCallAcceptButton onClick={accept} />\r\n            )\r\n          }\r\n          {\r\n            isNot('ended')\r\n            && <EndButton onClick={() => call.end()} />\r\n          }\r\n          {\r\n            is('ended')\r\n            && <CloseButton onClick={() => clearCalls()}>Back</CloseButton>\r\n          }\r\n        </Controls>\r\n      </Foreground>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default CallView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}